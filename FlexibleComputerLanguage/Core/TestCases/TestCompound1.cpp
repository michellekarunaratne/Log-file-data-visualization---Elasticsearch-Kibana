//
//  TestCompound1.cpp
//  FlexibleComputerLanguage
//
//  Created by Dileepa Jayathilaka on 7/25/18.
//  Copyright Â© 2018 Dileepa Jayathilaka. All rights reserved.
//

#include "TestCompound1.h"
#include "TestCaseIncludes.h"
#include "MemMan.h"
#include "Node.h"

TestCaseExecutionResult TestCompound1::Execute(TestCaseArgument* arg) {
    TestCaseExecutionResult res;
//    PNODE node1 = new Node(1);
//    PNODE node2 = new Node(2);
//    PNODE node3 = new Node(3);
//    PNODE node4 = new Node(4);
//    PNODE node5 = new Node(5);
//    PNODE node6 = new Node(6);
//    PNODE node7 = new Node(7);
//    PNODE node8 = new Node(8);
//
//    node1->AppendNode(node2);
//    node1->AppendNode(node3);
//
//    node2->AppendNode(node4);
//    node2->AppendNode(node5);
//    node2->AppendNode(node6);
//
//    node5->AppendNode(node7);
//    node5->AppendNode(node8);
//
//    node1->SetValue("random string");
//    node2->SetValue("productGraded");
//    node3->SetValue("productGraded and sorted");
//    node4->SetValue("starting productGraded and sort");
//    node5->SetValue("abd");
//    node6->SetValue("productGraded");
//    node7->SetValue("acb");
//    node8->SetValue("dabc");
//
//    node1->SetLValue("true");
//    node2->SetLValue("TRUE");
//    node3->SetLValue("false");
//    node4->SetLValue("true");
//    node5->SetLValue("false");
//    node6->SetLValue("true");
//    node7->SetLValue("true");
//    node8->SetLValue("false");
//
//    DefFileReader dfr;
//    MetaData* pMD = dfr.Read(arg->scriptsFolder + _MSTR(TestCompound1ScriptDefs.txt));
//    ScriptReader sr;
//    ScriptReaderOutput op;
//    bool bSucc = sr.ProcessScript(arg->scriptsFolder + _MSTR(TestCompound1Script.txt), pMD, op);
//    if(!bSucc)
//    {
//        return TestCaseExecutionResult(false, _MSTR(Failed to read script));
//    }
//    ExecutionContext ec;
//    ec.p_mapFunctions = &op.map_Functions;
//    ec.p_MD = pMD;
//    ec.map_Var["X"] = node1;
//    Int* val = new Int;
//    val->SetValue(0);
//    ec.map_Var["COUNT"] = val;
//    op.p_ETL->Execute(&ec);
//
//    if(val->GetValue() != 3)
//    {
//        return TestCaseExecutionResult(false, _MSTR(Script output is wrong));
//    }
    
    return res;
}

